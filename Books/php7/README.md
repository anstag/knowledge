# Книга: PHP 7 в подлиннике (2016)
#### Автор: Дмитрий Котеров, Игорь Симдянов

## ЧАСТЬ I. Основы Web-программирования
### ГЛАВА 1. Принципы работы Интернета
### ГЛАВА 2. Интерфейс CGI и протокол HTTP
### ГЛАВА 3. CGI изнутри
### ГЛАВА 4. Встроенный сервер PHP
> Запуск сервера  
`php -S localhost:4000 -t folder`

## ЧАСТЬ II. Основы языка PHP
### ГЛАВА 5. Характеристика языка PHP
### ГЛАВА 6. Переменные, константы, типы данных
> Тип переменной  
`gettype($var);`
  
> Максимальное значение для целого числа в PHP  
`echo PHP_INT_MAX;`
  
> Существования переменной  
`isset();`
  
> Удаление переменной  
`unset();`
  
> Проверка типа  
```
is_int($var);  
is_double($var);  
is_infinite($var);
is_nan($var);
is_string($var);
is_numeric($var);
is_bool($var);
is_scalar($var);
is_null($var);
is_array($var);
is_object($var);
```
  
> Установка типа переменной  
`settype($var, $type);`
  
> Преобразование типов  
```
floatval($var);
strval($var);
intval($var[, $base]);
```
  
```
$b = &$a; // жесткая ссылка
$$color; // символическая ссылка
```

> PHP переменная хранит не сам объект, а лишь ссылку на него  

> Предопределенные константы  
```
PHP_INT_MAX;
__FILE__;
__LINE__;
__FUNCTION__;
__CLASS__;
PHP_VERSION;
PHP_OS;
PHP_EOL;
```
  
```
define('PI', 3.14); // определение константы
defined($name); // проверка существования константы
constant($name); // константы с динамическими именами
```

> Отладочные функции  
```
print_r($var);
var_dump($var);
var_export($var); // может быть использовано прямо как "кусок" PHP-программы
```
  
### Глава 7. Выражения и операции PHP
```
$text = <<<MARKER
Далее идет какой-то текст,
$name будет интерполирована здесь.
MARKER;
// here-документы
```
  
```
$text = <<<'MARKER'
Далее идет какой-то текст,
возможно, с переменными, которые не интерполируются: например, $name не будет интерполирована здесь. 
MARKER;
// now-документ
```
  
`a <=> b; // возвращает –1, если a меньше b, 0, если a равно b и 1, если a больше b.`
  
> PHP преобразует "нечисловую" строку в число, он всегда получает ответ 0  
`@$_REQUEST['doGo']; // отключение предупреждений`  

> На самом деле текст предупреждения сохраняется в переменной PHP $php_errormsg, которая может быть в будущем проанализирована
  
```
$val = $_REQUEST["doGo"] ?? false; // Принимая два операнда, он возвращает значение элемента не равного null, при этом оператор автоматически проверяет на существование выражения и не генерирует замечание в случае отсутствия одного из них
```

### Глава 8. Работа с данными формы
```
$_SERVER['QUERY_STRING']; // данные из командной строки
system($command, $return_var); // - Выполнить внешнюю программу и отобразить вывод
$_REQUEST['login']; // post or get data
$_SERVER['SCRIPT_NAME']; // имя скрипта
$_SERVER['REMOTE_ADDR']; // IP
$_SERVER['HTTP_USER_AGENT']; // браузер
$_COOKIE['count'];
$GLOBALS; // все глобальные переменные
```
  
> Трансляция выполняется в порядке GET–POST–COOKIE (GPC)
  
### Глава 9. Конструкции языка
> Альтернативный синтаксис if-else  
```
if (isset($_REQUEST['go'])):
    echo true;
else:
    echo false;	
endif;
```
  
> Цикл
```
while ($a > 0):
    $a--;
endwhile;
```
  
> Интересно  
`break 3; // сообщает ему выполнение какого количества вложенных структур необходимо прервать`
  
> Изменять массив изнутри тела цикла, в PHP можно использовать ссылочный синтаксис
```
foreach ($variable as $key => &$value) {
    # code...
}
```
  
### Глава 10. Ассоциативные массивы
```
list($name, $surname, $age) = $list;
count($namesList); // количество элементов массива
```
  
> Слияние массивов
```
$good = ["Arahanga"=>"Julian ", "Doran"=>"Matt"];
$bad = ["Goddard"=>"Paul", "Taylor"=>"Robert"];
$all = $good + $bad;
```
  
> Будьте особенно внимательны при слиянии списков при помощи оператора +
```
// перебор ассоциативного массива
for (reset($birth); ($k = key($birth)); next($birth))
    echo "$k родился {$birth[$k]}<br />";
```
  
```
explode();
implode();
```
  
> Сериализация
```
serialize();
unserialize();
```
  
### Глава 11. Функции и области видимости
> Имя функции не зависит от регистра, но должно быть уникально среди имен уже объявленных функций
  
```
func_num_args(); // возвращает общее число аргументов, переданных функции при вызове
func_get_arg($num); // возвращает значение аргумента с номером $num, заданным при вызове функции
func_get_args(); // возвращает список всех аргументов, указанных при вызове функции
function myEcho(...$planets); // переменное число параметров
```
  
> Типы аргументов и возвращаемого значения  
`function sum(int $fst, int $snd) : int {}`
  
> Строгая типизация  
`declare(strict_types = 1);`
  
> Глобальные переменные в функции - ссылка на нее  
`global $variable;`
  
```
$GLOBALS; // глобальные переменные
global $a; // !!! эквивалентно $a = &$GLOBALS['a'];
```

> Статические переменные  
`static $count = 0;`

```
call_user_func($f, 101); // вызов функции, имя которой хранится в $f
call_user_func_array(); // предназначена для вызова подпрограмм, когда на мо- мент вызова точно неизвестно, сколько именно аргументов им следует передать
$myecho = function (...$str) {} // анонимная функция
$myecho("Меркурий", "Венера", "Земля", "Марс");
```

> Замыкания
```
$message = 'test';
$check = function(array $errors) use ($message) {}
```

> Возврат ссылки  
`function &r() {};`
  
> Отложенное копирование
  
### Глава 12. Генераторы
> Внимание! Дальше стало лень оформлять, смотрите notes.php
  
  https://github.com/igorsimdyanov/php7